{"version":3,"sources":["components/WeatherEmoji.js","hooks/useWeekday.js","components/Weathercard.js","components/Loader.js","hooks/useTime.js","components/Positioncard.js","images/panda.png","App.js","reportWebVitals.js","index.js"],"names":["WeatherEmoji","props","_jsx","src","concat","weatherDescription","icon","alt","useWeekday","initialDate","offset","arguments","length","undefined","_useState","useState","_useState2","_slicedToArray","weekday","setWeekday","useEffect","dayIndex","getDay","Weathercard","data","isLoadingWeatherdata","isCurrent","index","today","Date","todayWeekday","FeelsLikeSection","_jsxs","className","children","feels_like","timePeriods","morn","day","eve","night","orderedEmojis","Object","keys","map","time","_Fragment","HeaderSection","style","lineHeight","weather","paddingTop","humidity","sunrise","toLocaleTimeString","sunset","Loader","useTime","currentTime","setCurrentTime","interval","setInterval","clearInterval","PositionCard","lon","lat","timezone","Math","round","App","setLat","_useState3","_useState4","setLon","_useState5","_useState6","setData","_useState7","_useState8","isLoadingGPS","setisLoadingGPS","_useState9","_useState10","setIsLoadingWeatherdata","navigator","geolocation","getCurrentPosition","position","coords","latitude","longitude","getWeather","isCacheValid","timestamp","getTime","parseInt","_ref","_asyncToGenerator","_regeneratorRuntime","mark","_callee","cachedData","_JSON$parse","cachedResult","response","result","cacheData","wrap","_context","prev","next","localStorage","getItem","JSON","parse","abrupt","fetch","process","sent","json","setItem","stringify","t0","console","error","stop","_x","_x2","apply","PandaLogo","width","height","onClickHandler","WeatherCard","current","daily","reportWebVitals","onPerfEntry","Function","then","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","React","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.6dd62c23.chunk.js","sourcesContent":["import \"./styles.css\";\n\nconst WeatherEmoji = (props) => (\n  <img\n    src={`http://openweathermap.org/img/w/${props.weatherDescription.icon}.png`}\n    alt=\"weather icon\"\n  />\n);\n\nexport default WeatherEmoji;\n","import { useState, useEffect } from \"react\";\n\nconst useWeekday = (initialDate, offset = 0) => {\n  const [weekday, setWeekday] = useState(\"\");\n\n  useEffect(() => {\n    const daysOfWeek = [\n      \"Sunday\",\n      \"Monday\",\n      \"Tuesday\",\n      \"Wednesday\",\n      \"Thursday\",\n      \"Friday\",\n      \"Saturday\",\n    ];\n    const dayIndex = (initialDate.getDay() + offset) % 7;\n\n    setWeekday(daysOfWeek[dayIndex]);\n  }, [initialDate, offset]);\n\n  return weekday;\n};\n\nexport default useWeekday;\n","import \"./styles.css\";\nimport WeatherEmoji from \"./WeatherEmoji\";\nimport useWeekday from \"../hooks/useWeekday\";\n\nconst Weathercard = (props) => {\n  const { data, isLoadingWeatherdata, isCurrent, index } = props;\n\n  const today = new Date();\n  const offset = index;\n  const todayWeekday = useWeekday(today, offset);\n\n  const FeelsLikeSection = () => {\n    if (isCurrent) {\n      return (\n        <p className=\"card-text\">😌 Feels like: {data.feels_like + \" °C\"}</p>\n      );\n    } else if (typeof data.feels_like === \"object\") {\n      const timePeriods = {\n        morn: \"Morning\",\n        day: \"Day\",\n        eve: \"Evening\",\n        night: \"Night\",\n      };\n      const orderedEmojis = [\"🌄\", \"🏞️\", \"🌆\", \"🌌\"];\n      return (\n        <div>\n          {Object.keys(timePeriods).map((time, index) => (\n            <p key={time} className=\"card-text\">\n              {`${orderedEmojis[index]} ${timePeriods[time]} feels like:\n            ${data.feels_like[time]} °C`}\n            </p>\n          ))}\n        </div>\n      );\n    }\n    return <></>;\n  };\n\n  const HeaderSection = () => {\n    if (isCurrent) {\n      return <span>Right now</span>;\n    }\n    if (index) {\n      return <span>{todayWeekday}</span>;\n    }\n    return <span>Today</span>;\n  };\n\n  if (data && !isLoadingWeatherdata) {\n    return (\n      <div className=\"card\" style={{ lineHeight: \"75%\" }}>\n        <div className=\"card-body pt-1\">\n          <h5 className=\"card-title d-flex align-items-center justify-content-between mb-0\">\n            <HeaderSection />\n            <WeatherEmoji weatherDescription={data.weather[0]} />\n          </h5>\n          <FeelsLikeSection />\n          <p className=\"card-text\" style={{ paddingTop: \"20px\" }}>\n            🌊 Humidity: {data.humidity + \" %\"}\n          </p>\n          <p className=\"card-text\">\n            🌅 Sunrise: {new Date(data.sunrise * 1000).toLocaleTimeString()}\n          </p>\n          <p className=\"card-text\">\n            🌇 Sunset: {new Date(data.sunset * 1000).toLocaleTimeString()}\n          </p>\n        </div>\n      </div>\n    );\n  }\n\n  return null;\n};\n\nexport default Weathercard;\n","import React from \"react\";\n\nconst Loader = () => {\n  return (\n    <div className=\"loaderContainer\">\n      <span>Getting your data</span>\n      <div className=\"spinner\">\n        <div className=\"bounce1\"></div>\n        <div className=\"bounce2\"></div>\n        <div className=\"bounce3\"></div>\n      </div>\n    </div>\n  );\n};\n\nexport default Loader;\n","import { useState, useEffect } from \"react\";\n\nconst useTime = () => {\n  const [currentTime, setCurrentTime] = useState(new Date());\n\n  useEffect(() => {\n    const interval = setInterval(() => {\n      setCurrentTime(new Date());\n    }, 1000); // Update every second\n\n    return () => clearInterval(interval); // Cleanup the interval on unmount\n  }, []);\n\n  return currentTime.toLocaleTimeString();\n};\n\nexport default useTime;\n","import \"./styles.css\";\nimport Loader from \"./Loader\";\nimport useWeekday from \"../hooks/useWeekday\";\nimport useTime from \"../hooks/useTime\";\n\nconst PositionCard = (props) => {\n  const { lon, lat, data } = props;\n\n  const today = new Date();\n  const todayWeekday = useWeekday(today);\n  const currentTime = useTime();\n\n  return (\n    <>\n      <div className=\"card\">\n        <div className=\"card-body\">\n          <h5 className=\"card-title\">{data.timezone}</h5>\n          {lon && lat ? (\n            <div>\n              <p className=\"card-text\">Time: {currentTime}</p>\n              <p className=\"card-text\">Weekday: {todayWeekday}</p>\n              <p className=\"card-text\">\n                Latitude: {Math.round(lat * 1000) / 1000}\n              </p>\n              <p className=\"card-text\">\n                Longitude: {Math.round(lon * 1000) / 1000}\n              </p>\n            </div>\n          ) : (\n            <Loader />\n          )}\n        </div>\n      </div>\n    </>\n  );\n};\n\nexport default PositionCard;\n","export default __webpack_public_path__ + \"static/media/panda.d59f7d49.png\";","import \"./App.css\";\nimport React, { useEffect, useState } from \"react\";\nimport WeatherCard from \"./components/Weathercard\";\nimport PositionCard from \"./components/Positioncard\";\nimport PandaLogo from \"./images/panda.png\";\n\nfunction App() {\n  const [lat, setLat] = useState();\n  const [lon, setLon] = useState();\n  const [data, setData] = useState([]);\n  const [isLoadingGPS, setisLoadingGPS] = useState(true);\n  const [isLoadingWeatherdata, setIsLoadingWeatherdata] = useState(true);\n\n  useEffect(() => {\n    navigator.geolocation.getCurrentPosition(function (position) {\n      setLat(position.coords.latitude);\n      setLon(position.coords.longitude);\n    });\n    setisLoadingGPS(false);\n  }, []);\n\n  useEffect(() => {\n    if (isLoadingGPS === false) {\n      getWeather(lat, lon);\n    }\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [lon]);\n\n  const isCacheValid = (timestamp) => {\n    const currentTime = new Date().getTime();\n    const cacheTime = parseInt(timestamp, 10);\n    return currentTime - cacheTime < 3600000; // 1 hour in milliseconds\n  };\n\n  const getWeather = async (lat, lon) => {\n    const cachedData = localStorage.getItem(\"weatherData\");\n\n    if (cachedData) {\n      const { timestamp, data: cachedResult } = JSON.parse(cachedData);\n      if (isCacheValid(timestamp)) {\n        setData(cachedResult);\n        setIsLoadingWeatherdata(false);\n        return;\n      }\n    }\n\n    try {\n      const response = await fetch(\n        `${process.env.REACT_APP_API_URL}/onecall?lat=${lat}&lon=${lon}&units=metric&exclude=minutely,hourly&appid=${process.env.REACT_APP_API_KEY}`\n      );\n      const result = await response.json();\n      setData(result);\n\n      // Update the cache with the new data and timestamp\n      const cacheData = {\n        timestamp: new Date().getTime(),\n        data: result,\n      };\n      localStorage.setItem(\"weatherData\", JSON.stringify(cacheData));\n\n      setIsLoadingWeatherdata(false);\n    } catch (error) {\n      console.error(\"Error fetching weather data:\", error);\n      setIsLoadingWeatherdata(false);\n    }\n  };\n\n  const onClickHandler = () => getWeather(lat, lon);\n\n  return (\n    <div className=\"App bg-secondary\">\n      <nav className=\"navbar navbar-dark bg-dark\">\n        <img\n          src={PandaLogo}\n          width=\"30\"\n          height=\"30\"\n          alt=\"\"\n          className=\"pandaLogo\"\n        />\n        <span className=\"m-3 text-light\">WeatherPanda</span>\n      </nav>\n      <div className=\"cardContainer\">\n        <PositionCard\n          lat={lat}\n          lon={lon}\n          data={data}\n          isLoadingGPS={isLoadingGPS}\n          onClickHandler={onClickHandler}\n        />\n        <WeatherCard\n          data={data.current}\n          isLoadingWeatherdata={isLoadingWeatherdata}\n          isCurrent={true}\n        />\n        {data &&\n          data.daily &&\n          data.daily.length > 0 &&\n          data.daily.map((day, index) => {\n            return (\n              <WeatherCard\n                data={day}\n                isLoadingWeatherdata={isLoadingWeatherdata}\n                isCurrent={false}\n                key={index}\n                index={index}\n              />\n            );\n          })}\n      </div>\n    </div>\n  );\n}\n\nexport default App;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\nimport 'bootstrap/dist/css/bootstrap.min.css';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}